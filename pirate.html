<!DOCTYPE html>
<html lang="en">
<head>
  <title>Pirate</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

</head>
<body>

    <h2>Find the treasure by Uday Singamala</h2>
    <div class="container border" style="background-color:skyblue;font-family: 'Times New Roman', Times, serif;"> 
        <p>Click on the locations to search for treasure, beware the traps</p>
    </div>
    <div class="container border" id="locations"  style="background-color: violet;font-family: 'Times New Roman', Times, serif;">
        <p id="locations">Number of locations checked is zero</p>
    </div>
    <div class="container border" id="penalty" style="background-color:red;font-family: 'Times New Roman', Times, serif;">
        <p id="penalty">Penalty is zero</p>
    </div>
    <div class="container border" style="background-color: orange;font-family: 'Times New Roman', Times, serif;">
        <p onclick="help()">Click for help</p>
    </div>
    <div class="container border"  style="background-color: olive;font-family: 'Times New Roman', Times, serif;">
        <p id="help">Help report</p>
    </div>


    <br>
    <div class="container" style = "background-color:blue">
        <button onclick="newGame()">New Game</button>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-sm-1" onclick="check(0)"><img  id="check0" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(1)"><img  id="check1" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(2)" ><img  id="check2" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(3)" ><img  id="check3" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(4)" ><img  id="check4" src="location.jpg" height="100" width="100"></div>
        </div>
        <div class="row">
            <div class="col-sm-1" onclick="check(5)"><img  id="check5" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(6)" ><img  id="check6" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(7)" ><img  id="check7" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(8)" ><img  id="check8" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(9)" ><img  id="check9" src="location.jpg" height="100" width="100"></div>
            
        </div>
        <div class="row ">
            <div class="col-sm-1" onclick="check(10)"><img  id="check10" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(11)" ><img  id="check11" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(12)" ><img  id="check12" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(13)" ><img  id="check13" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(14)" ><img  id="check14" src="location.jpg" height="100" width="100"></div>
        </div>
        <div class="row ">
            <div class="col-sm-1" onclick="check(15)" ><img id="check15" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(16)" ><img id="check16" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(17)" ><img id="check17" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(18)" ><img id="check18" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(19)" ><img id="check19" src="location.jpg" height="100" width="100"></div>
        </div>
        <div class="row ">
            <div class="col-sm-1" onclick="check(20)" ><img  id="check20" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(21)" ><img  id="check21" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(22)" ><img  id="check22" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(23)" ><img  id="check23" src="location.jpg" height="100" width="100"></div>
            <div class="col-sm-1" onclick="check(24)" ><img  id="check24" src="location.jpg" height="100" width="100"></div>
        </div>

        <script>
            const ids = ["check0","check1","check2","check3","check4","check5","check6","check7","check8","check9","check10","check11","check12","check13","check14","check15","check16","check17","check18","check19","check20","check21","check22","check23","check24"]
            var checkCount = 0;
            var penalty = 0;
            var lastCheck = 0;
            var treasureLocation = 5;
            var trapLocation = 18;
            var gameOver = false;

            function check(position){
                if(gameOver){
                    return;
                }
                
                const check_no = document.getElementById(ids[position]);
                if(position == treasureLocation){
                    check_no.src = "treasure.jpg";
                    gameOver = true;
                    penalty -= 3;
                }
                else if(position == trapLocation){
                    check_no.src = "realtrap.png";
                    gameOver = true;
                    penalty += 4;
                }
                else{
                    check_no.src = "block.jpeg";
                }

                checkCount++;
                penalty++;
                document.getElementById("locations").innerHTML = "Number of locations checked is " + checkCount;
                document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
                lastCheck = position;
            }

            function help() {
                if (gameOver) {
                    return;
                }
                let treasureRow = Math.floor(treasureLocation / 5);
                let treasureCol = treasureLocation % 5;
                let lastLocationRow = Math.floor(lastCheck / 5);
                let lastLocationCol = lastCheck % 5;

                if (Math.abs(treasureRow - lastLocationRow) <= 1 && Math.abs(treasureCol - lastLocationCol) <= 1) {
                    document.getElementById("help").innerHTML = "Can smell it";
                } else if (Math.abs(treasureRow - lastLocationRow) + Math.abs(treasureCol - lastLocationCol) === 2) {
                    document.getElementById("help").innerHTML = "Close Matie";
                } else {
                    document.getElementById("help").innerHTML = "Step Faster";
                }
                penalty += 2;
                document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
            }

                      
            var trapLocation = Math.floor(Math.random() * 25); 
            var treasureLocation = Math.floor(Math.random() * 25); 

            function newGame() {
                trapLocation = Math.floor(Math.random() * 25);
                treasureLocation = Math.floor(Math.random() * 25);
                checkCount = 0;
                penalty = 0;
                lastCheck = 0;
                gameOver = false;
                document.getElementById("locations").innerHTML = "Number of locations checked is 0";
                document.getElementById("penalty").innerHTML = "Penalty is 0";
                document.getElementById("help").innerHTML = "Click for help";
                for(var i=0;i<=23;i++){
                document.getElementById(ids[i]).src="location.jpg"
                
            }

            }

        </script>

</body>
</html>
